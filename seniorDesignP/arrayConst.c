#include "arrayConst.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>


/*
struct arrayConst absArray[10][6] = {
{{6.26,4.69,0.63},{6.96,4.69,0.63},{7.63,4.69,0.62},{8.33,4.69,0.62},{9.02,4.69,0.61},{9.72,4.69,0.61}},

{{6.26,5.19,0.63},{6.96,5.19,0.63},{7.63,5.19,0.62},{8.33,5.19,0.62},{9.02,5.19,0.61},{9.27,5.19,0.61}},

{{6.26,5.69,0.63},{6.96,5.69,0.63},{7.63,5.69,0.62},{8.33,5.69,0.62},{9.02,5.69,0.61},{9.27,5.69,0.61}},

{{6.26,6.19,0.63},{6.96,6.19,0.63},{7.63,6.19,0.62},{8.33,6.19,0.62},{9.02,6.19,0.61},{9.27,6.19,0.61}},

{{6.26,6.69,0.63},{6.96,6.69,0.63},{7.63,6.69,0.62},{8.33,6.69,0.62},{9.02,6.69,0.61},{9.27,6.69,0.61}},

{{6.26,7.19,0.63},{6.96,7.19,0.63},{7.63,7.19,0.62},{8.33,7.19,0.62},{9.02,7.19,0.61},{9.27,7.19,0.61}},

{{6.26,7.69,0.63},{6.96,7.69,0.63},{7.63,7.69,0.62},{8.33,7.69,0.62},{9.02,7.69,0.61},{9.27,7.69,0.61}},

{{6.26,8.19,0.63},{6.96,8.19,0.63},{7.63,8.19,0.62},{8.33,8.19,0.62},{9.02,8.19,0.61},{9.27,8.19,0.61}},

{{6.26,8.69,0.63},{6.96,8.69,0.63},{7.63,8.69,0.62},{8.33,8.69,0.62},{9.02,8.69,0.61},{9.27,8.69,0.61}},

{{6.26,9.19,0.63},{6.96,9.19,0.63},{7.63,9.19,0.62},{8.33,9.19,0.62},{9.02,9.19,0.61},{9.27,9.19,0.61}}

};
*/


int createArray(arrayConst ** arrayPointer, char *fileLoc){
    FILE* file_ptr = fopen(fileLoc, "rb");
    if(file_ptr == NULL){
        printf("Error opening file!\n");
        exit(1);
    }


    char buffer[255];
    int lineNum = 0;


    double x1 = 0;
    double x2 = 0;
    double x3 = 0;

    double y1 = 0;
    double y2 = 0;
    double y3 = 0;

    double z1 = 0;
    double z2 = 0;
    double z3 = 0;

    while(fgets(buffer, 255, (FILE*) file_ptr)) {
        char temp[4];
        strncpy ( temp, buffer+2, 4);
        //converts lines in file to respective double values
        if(lineNum == 1){
            x1 = atof(temp);
        }else if(lineNum == 2){
            y1 = atof(temp);
        }else if(lineNum == 3){
            z1 = atof(temp);
        }else if(lineNum == 5){
            x2 = atof(temp);
        }else if(lineNum == 6){
            y2 = atof(temp);
        }else if(lineNum == 7){
            z2 = atof(temp);
        }else if(lineNum == 9){
            x3 = atof(temp);
        }else if(lineNum == 10){
            y3 = atof(temp);
        }else if(lineNum == 11){
            z3 = atof(temp);
        }
        lineNum += 1;
    }

    fclose(file_ptr);

    if(x1 == 0.0 || x2 == 0.0 || x3 == 0.0){
        return 1;
    }else if(y1 == 0.0 || y2 == 0.0 || y3 == 0.0){
        return 1;
    }else if(y1 == 0.0 || y2 == 0.0 || y3 == 0.0){
        return 1;
    }else{

    }



    arrayConst absArray1[10][6] = {
    {{x1,y1+0.0,z1},{x1+.7,y1+0.0,z1},{x2,y2+0.0,z2},{x2+.7,y2+0.0,z2},{x3,y3+0.0,z3},{x3+.7,y3+0.0,z3}},

    {{x1,y1+0.5,z1},{x1+.7,y1+0.5,z1},{x2,y2+0.5,z2},{x2+.7,y2+0.5,z2},{x3,y3+0.5,z3},{x3+.7,y3+0.5,z3}},

    {{x1,y1+1.0,z1},{x1+.7,y1+1.0,z1},{x2,y2+1.0,z2},{x2+.7,y2+1.0,z2},{x3,y3+1.0,z3},{x3+.7,y3+1.0,z3}},

    {{x1,y1+1.5,z1},{x1+.7,y1+1.5,z1},{x2,y2+1.5,z2},{x2+.7,y2+1.5,z2},{x3,y3+1.5,z3},{x3+.7,y3+1.5,z3}},

    {{x1,y1+2.0,z1},{x1+.7,y1+2.0,z1},{x2,y2+2.0,z2},{x2+.7,y2+2.0,z2},{x3,y3+2.0,z3},{x3+.7,y3+2.0,z3}},

    {{x1,y1+2.5,z1},{x1+.7,y1+2.5,z1},{x2,y2+2.5,z2},{x2+.7,y2+2.5,z2},{x3,y3+2.5,z3},{x3+.7,y3+2.5,z3}},

    {{x1,y1+3.0,z1},{x1+.7,y1+3.0,z1},{x2,y2+3.0,z2},{x2+.7,y2+3.0,z2},{x3,y3+3.0,z3},{x3+.7,y3+3.0,z3}},

    {{x1,y1+3.5,z1},{x1+.7,y1+3.5,z1},{x2,y2+3.5,z2},{x2+.7,y2+3.5,z2},{x3,y3+3.5,z3},{x3+.7,y3+3.5,z3}},

    {{x1,y1+4.0,z1},{x1+.7,y1+4.0,z1},{x2,y2+4.0,z2},{x2+.7,y2+4.0,z2},{x3,y3+4.0,z3},{x3+.7,y3+4.0,z3}},

    {{x1,y1+4.5,z1},{x1+.7,y1+4.5,z1},{x2,y2+4.5,z2},{x2+.7,y2+4.5,z2},{x3,y3+4.5,z3},{x3+.7,y3+4.5,z3}}

    };
    //assign created array values to array const pointer
    for(int i = 0; i<10;++i){
        for(int j=0; j<6 ; ++j){
            arrayPointer[i][j] = absArray1[i][j];
        }

    }

    return 0;

}
